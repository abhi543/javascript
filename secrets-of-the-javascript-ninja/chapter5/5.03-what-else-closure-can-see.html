<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>   
    <script type="text/javascript">
      function assert(value, desc){
          var li = document.createElement("li");
          li.className = value ? "pass" : "fail";   // assigns a class named pass or fail,depending on value
          li.appendChild(document.createTextNode(desc));
          document.getElementById("results").appendChild(li);
      }
    </script>
    <style type="text/css" media="screen">
      #results li.pass {color:green;}
      #results li.fail {color:red;}
    </style>
  </head>
  <body>
    <ul id="results">      
    </ul>
    <script type="text/javascript">
      var outerValue = 'ninja';
      var later;
      function outerFunction(){
          var innerValue = 'samurai';
          function innerFunction(paramValue){
              assert(outerValue,"Inner can see the ninja;");
              assert(innerValue,"Inner can see the samurai;");
              assert(paramValue,"Inner can see the wakizashi");
              assert(tooLate,"Inner can see the ronin");
          }
          later = innerFunction;
      }
      // Within the same scope, variables not yet defined cannot be forward-referenced.
      assert(!tooLate,"Outer can't see the ronin.");
      var tooLate = 'ronin';
      
      outerFunction();
      later("wakizashi");
    </script>
  </body>
</html>
